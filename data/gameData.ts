
// Constants for step IDs
const STEP_IDS = {
  FACULTY: {
    STEP_1: 'FACULTY_STEP_1',
    STEP_2: 'FACULTY_STEP_2',
    STEP_3: 'FACULTY_STEP_3',
  },
  JOB: {
    STEP_1: 'JOB_STEP_1',
    STEP_2: 'JOB_STEP_2',
    STEP_3: 'JOB_STEP_3',
  },
  HOUSING: {
    STEP_1: 'HOUSING_STEP_1',
    STEP_2: 'HOUSING_STEP_2',
    STEP_3: 'HOUSING_STEP_3',
  },
} as const;

// Constants for choice IDs
const CHOICE_IDS = {
  FACULTY: {
    STEP_1: {
      CHOICE_1: 'FACULTY_STEP_1_CHOICE_1',
      CHOICE_2: 'FACULTY_STEP_1_CHOICE_2',
      CHOICE_3: 'FACULTY_STEP_1_CHOICE_3',
    },
    STEP_2: {
      CHOICE_1: 'FACULTY_STEP_2_CHOICE_1',
      CHOICE_2: 'FACULTY_STEP_2_CHOICE_2',
      CHOICE_3: 'FACULTY_STEP_2_CHOICE_3',
      CHOICE_4: 'FACULTY_STEP_2_CHOICE_4',
      CHOICE_5: 'FACULTY_STEP_2_CHOICE_5',
    },
    STEP_3: {
      CHOICE_1: 'FACULTY_STEP_3_CHOICE_1',
      CHOICE_2: 'FACULTY_STEP_3_CHOICE_2',
      CHOICE_3: 'FACULTY_STEP_3_CHOICE_3',
      CHOICE_4: 'FACULTY_STEP_3_CHOICE_4',
      CHOICE_5: 'FACULTY_STEP_3_CHOICE_5',
    },
  },
  JOB: {
    STEP_1: {
      CHOICE_1: 'JOB_STEP_1_CHOICE_1',
      CHOICE_2: 'JOB_STEP_1_CHOICE_2',
      CHOICE_3: 'JOB_STEP_1_CHOICE_3',
    },
    STEP_2: {
      CHOICE_1: 'JOB_STEP_2_CHOICE_1',
      CHOICE_2: 'JOB_STEP_2_CHOICE_2',
      CHOICE_3: 'JOB_STEP_2_CHOICE_3',
      CHOICE_4: 'JOB_STEP_2_CHOICE_4',
      CHOICE_5: 'JOB_STEP_2_CHOICE_5',
    },
    STEP_3: {
      CHOICE_1: 'JOB_STEP_3_CHOICE_1',
      CHOICE_2: 'JOB_STEP_3_CHOICE_2',
      CHOICE_3: 'JOB_STEP_3_CHOICE_3',
      CHOICE_4: 'JOB_STEP_3_CHOICE_4',
      CHOICE_5: 'JOB_STEP_3_CHOICE_5',
    },
  },
  HOUSING: {
    STEP_1: {
      CHOICE_1: 'HOUSING_STEP_1_CHOICE_1',
      CHOICE_2: 'HOUSING_STEP_1_CHOICE_2',
      CHOICE_3: 'HOUSING_STEP_1_CHOICE_3',
    },
    STEP_2: {
      CHOICE_1: 'HOUSING_STEP_2_CHOICE_1',
      CHOICE_2: 'HOUSING_STEP_2_CHOICE_2',
      CHOICE_3: 'HOUSING_STEP_2_CHOICE_3',
      CHOICE_4: 'HOUSING_STEP_2_CHOICE_4',
      CHOICE_5: 'HOUSING_STEP_2_CHOICE_5',
    },
    STEP_3: {
      CHOICE_1: 'HOUSING_STEP_3_CHOICE_1',
      CHOICE_2: 'HOUSING_STEP_3_CHOICE_2',
      CHOICE_3: 'HOUSING_STEP_3_CHOICE_3',
      CHOICE_4: 'HOUSING_STEP_3_CHOICE_4',
      CHOICE_5: 'HOUSING_STEP_3_CHOICE_5',
    },
  },
} as const;

export interface Choice {
  id: string;
  text: string;
  personalStateChange: number;
  socialRelationsChange: number;
  blocks?: string[]; // Which choice IDs this choice blocks in future questions
}

export interface StoryNode {
  id: string;
  text: string;
  situation?: string;
  sceneId: string;
  stepIndex: number;
  allChoices: Choice[]; // All possible choices for this question
}

export interface ChoiceEdge {
  id: string; // Same as choice.id
  fromNode: string; // Which question this choice comes from
  toNode: string; // Which question this choice leads to (always next in sequence)
  choice: Choice; // The actual choice data
  blocks: string[]; // Which choice IDs this edge blocks
}

export interface StoryGraph {
  nodes: Map<string, StoryNode>;
  edges: Map<string, ChoiceEdge>;
}

export interface Step {
  id: string;
  text: string;
  situation?: string;
  choices: Choice[];
}

export interface Introspection {
  text: string;
  positiveChoice: string;
  negativeChoice: string;
}

export interface Scene {
  title: string;
  steps: Step[];
  introspection: Introspection;
}

export interface Ending {
  title: string;
  text: string;
}

export interface Character {
  id: 'male' | 'female';
  name: string;
  description: string;
  avatar: string;
}

export interface GameState {
  currentScene: number;
  currentStep: number;
  personalState: number;
  socialRelations: number;
  decisions: string[];
  introspectionMode: boolean;
  selectedCharacter?: Character;
  characterSelected: boolean;
  activeRelationships: string[];
}

export interface ChoiceNode {
  id: string;
  text: string;
  personalStateChange: number;
  socialRelationsChange: number;
  blocks: string[];
}

export const characters: Character[] = [
  {
    id: 'male',
    name: '',
    description: 'Un t√¢nƒÉr ambi»õios care √Æ»ôi √Æncepe cƒÉlƒÉtoria prin via»õƒÉ',
    avatar: 'üë®‚Äçü¶Ω'
  },
  {
    id: 'female',
    name: '',
    description: 'O t√¢nƒÉrƒÉ determinatƒÉ care √Æ»ôi urmeazƒÉ visurile',
    avatar: 'üë©‚Äçü¶Ω'
  }
];

export const gameData = {
  scenes: [
    {
      title: "Facultatea",
      steps: [
        {
          id: STEP_IDS.FACULTY.STEP_1,
          text: "Este prima ta zi la facultate. Intri √Æn cƒÉminul universitar »ôi observi cƒÉ liftul este defect. Dormitorul tƒÉu este la etajul 3.",
          situation: "CƒÉmin Universitar - Ziua 1",
          choices: [
            {
              id: CHOICE_IDS.FACULTY.STEP_1.CHOICE_1,
              text: "Ceri ajutorul altor studen»õi sƒÉ te ducƒÉ pe scƒÉri",
              personalStateChange: 5,
              socialRelationsChange: 10,
              blocks: [CHOICE_IDS.FACULTY.STEP_2.CHOICE_3, CHOICE_IDS.FACULTY.STEP_2.CHOICE_4]
            },
            {
              id: CHOICE_IDS.FACULTY.STEP_1.CHOICE_2,
              text: "A»ôtep»õi p√¢nƒÉ se reparƒÉ liftul, chiar dacƒÉ √Ænt√¢rzii",
              personalStateChange: -5,
              socialRelationsChange: 0,
              blocks: [CHOICE_IDS.FACULTY.STEP_2.CHOICE_2, CHOICE_IDS.FACULTY.STEP_2.CHOICE_5]
            },
            {
              id: CHOICE_IDS.FACULTY.STEP_1.CHOICE_3,
              text: "Te pl√¢ngi administra»õiei despre infrastructura inadecvatƒÉ",
              personalStateChange: 10,
              socialRelationsChange: -5,
              blocks: [CHOICE_IDS.FACULTY.STEP_2.CHOICE_1, CHOICE_IDS.FACULTY.STEP_2.CHOICE_3]
            }
          ],
        },
        {
          id: STEP_IDS.FACULTY.STEP_2,
          text: "La prima lec»õie, profesorul organizeazƒÉ studen»õii √Æn grupuri pentru un proiect. Observi cƒÉ majoritatea meselor sunt prea √Ænalte pentru tine.",
          situation: "Sala de Curs - Prima Lec»õie",
          choices: [
            {
              id: CHOICE_IDS.FACULTY.STEP_2.CHOICE_1,
              text: "Te adaptezi »ôi lucrezi cum po»õi, fƒÉrƒÉ sƒÉ spui nimic",
              personalStateChange: -10,
              socialRelationsChange: 5,
              blocks: [CHOICE_IDS.FACULTY.STEP_3.CHOICE_1, CHOICE_IDS.FACULTY.STEP_3.CHOICE_4]
            },
            {
              id: CHOICE_IDS.FACULTY.STEP_2.CHOICE_2,
              text: "Explici situa»õia profesorului »ôi ceri o solu»õie",
              personalStateChange: 5,
              socialRelationsChange: 5,
              blocks: [CHOICE_IDS.FACULTY.STEP_3.CHOICE_3, CHOICE_IDS.FACULTY.STEP_3.CHOICE_5]
            },
            {
              id: CHOICE_IDS.FACULTY.STEP_2.CHOICE_3,
              text: "Pleci din salƒÉ, sim»õindu-te exclus",
              personalStateChange: -15,
              socialRelationsChange: -10,
              blocks: [CHOICE_IDS.FACULTY.STEP_3.CHOICE_1, CHOICE_IDS.FACULTY.STEP_3.CHOICE_2]
            },
            {
              id: CHOICE_IDS.FACULTY.STEP_2.CHOICE_4,
              text: "Ceri ajutorul colegilor sƒÉ √Æ»õi gƒÉseascƒÉ o solu»õie",
              personalStateChange: 0,
              socialRelationsChange: 10,
              blocks: [CHOICE_IDS.FACULTY.STEP_3.CHOICE_2, CHOICE_IDS.FACULTY.STEP_3.CHOICE_3]
            },
            {
              id: CHOICE_IDS.FACULTY.STEP_2.CHOICE_5,
              text: "Cau»õi o masƒÉ mai potrivitƒÉ √Æn altƒÉ parte a sƒÉlii",
              personalStateChange: 5,
              socialRelationsChange: 0,
              blocks: [CHOICE_IDS.FACULTY.STEP_3.CHOICE_5, CHOICE_IDS.FACULTY.STEP_3.CHOICE_4]
            }
          ],
        },
        {
          id: STEP_IDS.FACULTY.STEP_3,
          text: "√én pauzƒÉ, un grup de colegi discutƒÉ despre o ie»ôire √Æn ora»ô la o loca»õie pe care o »ôtii cƒÉ nu are acces pentru scaune cu rotile.",
          situation: "Curtea FacultƒÉ»õii - Pauza",
          choices: [
            {
              id: CHOICE_IDS.FACULTY.STEP_3.CHOICE_1,
              text: "Sugerezi o loca»õie alternativƒÉ accesibilƒÉ",
              personalStateChange: 10,
              socialRelationsChange: 10,
              blocks: []
            },
            {
              id: CHOICE_IDS.FACULTY.STEP_3.CHOICE_2,
              text: "Refuzi politicos sƒÉ vii, invent√¢nd o scuzƒÉ",
              personalStateChange: -5,
              socialRelationsChange: -5,
              blocks: []
            },
            {
              id: CHOICE_IDS.FACULTY.STEP_3.CHOICE_3,
              text: "Nu spui nimic »ôi sperai sƒÉ nu te invite",
              personalStateChange: -10,
              socialRelationsChange: -10,
              blocks: []
            },
            {
              id: CHOICE_IDS.FACULTY.STEP_3.CHOICE_4,
              text: "Accep»õi sƒÉ vii, sper√¢nd cƒÉ vei gƒÉsi o solu»õie",
              personalStateChange: -5,
              socialRelationsChange: 15,
              blocks: []
            },
            {
              id: CHOICE_IDS.FACULTY.STEP_3.CHOICE_5,
              text: "Inventezi o scuzƒÉ medicalƒÉ pentru a nu participa",
              personalStateChange: -8,
              socialRelationsChange: -3,
              blocks: []
            }
          ],
        },
      ],
      introspection: {
        text: "Prima sƒÉptƒÉm√¢nƒÉ de facultate s-a √Æncheiat. Te g√¢nde»ôti la experien»õele trƒÉite »ôi la cum te-au afectat.",
        positiveChoice: "MƒÉ concentrez pe momentele √Æn care am reu»ôit sƒÉ mƒÉ integrez »ôi sƒÉ-mi fac prieteni",
        negativeChoice: "MƒÉ g√¢ndesc doar la momentele dificile »ôi la c√¢t de diferit sunt",
      },
    },

    {
      title: "Locul de MuncƒÉ",
      steps: [
        {
          id: STEP_IDS.JOB.STEP_1,
          text: "Este primul tƒÉu job dupƒÉ facultate. Ajungi la birou »ôi realizezi cƒÉ baia nu este adaptatƒÉ pentru scaune cu rotile.",
          situation: "Primul Zi de Lucru",
          choices: [
            {
              id: CHOICE_IDS.JOB.STEP_1.CHOICE_1,
              text: "Discu»õi cu HR-ul despre adaptƒÉrile necesare",
              personalStateChange: 10,
              socialRelationsChange: 5,
              blocks: [CHOICE_IDS.JOB.STEP_2.CHOICE_3, CHOICE_IDS.JOB.STEP_2.CHOICE_5]
            },
            {
              id: CHOICE_IDS.JOB.STEP_1.CHOICE_2,
              text: "√éncerci sƒÉ te descurci singur fƒÉrƒÉ sƒÉ deranjezi pe nimeni",
              personalStateChange: -5,
              socialRelationsChange: 0,
              blocks: [CHOICE_IDS.JOB.STEP_2.CHOICE_1, CHOICE_IDS.JOB.STEP_2.CHOICE_4]
            },
            {
              id: CHOICE_IDS.JOB.STEP_1.CHOICE_3,
              text: "Te sim»õi o povarƒÉ »ôi √Æ»õi pare rƒÉu cƒÉ ai acceptat jobul",
              personalStateChange: -15,
              socialRelationsChange: -5,
              blocks: [CHOICE_IDS.JOB.STEP_2.CHOICE_2, CHOICE_IDS.JOB.STEP_2.CHOICE_5]
            }
          ],
        },
        {
          id: STEP_IDS.JOB.STEP_2,
          text: "Colegii de echipƒÉ organizeazƒÉ o activitate de team building la un loc care pare inaccesibil.",
          situation: "Team Building",
          choices: [
            {
              id: CHOICE_IDS.JOB.STEP_2.CHOICE_1,
              text: "Propui o activitate alternativƒÉ inclusivƒÉ",
              personalStateChange: 15,
              socialRelationsChange: 15,
              blocks: [CHOICE_IDS.JOB.STEP_3.CHOICE_2, CHOICE_IDS.JOB.STEP_3.CHOICE_4]
            },
            {
              id: CHOICE_IDS.JOB.STEP_2.CHOICE_2,
              text: "Participi oricum, chiar dacƒÉ va fi dificil",
              personalStateChange: 5,
              socialRelationsChange: 10,
              blocks: [CHOICE_IDS.JOB.STEP_3.CHOICE_1, CHOICE_IDS.JOB.STEP_3.CHOICE_3]
            },
            {
              id: CHOICE_IDS.JOB.STEP_2.CHOICE_3,
              text: "Nu participi »ôi lucrezi de acasƒÉ",
              personalStateChange: -10,
              socialRelationsChange: -15,
              blocks: [CHOICE_IDS.JOB.STEP_3.CHOICE_5, CHOICE_IDS.JOB.STEP_3.CHOICE_4]
            },
            {
              id: CHOICE_IDS.JOB.STEP_2.CHOICE_4,
              text: "Ceri organizatorilor sƒÉ gƒÉseascƒÉ o solu»õie pentru tine",
              personalStateChange: 5,
              socialRelationsChange: 5,
              blocks: [CHOICE_IDS.JOB.STEP_3.CHOICE_4, CHOICE_IDS.JOB.STEP_3.CHOICE_2]
            },
            {
              id: CHOICE_IDS.JOB.STEP_2.CHOICE_5,
              text: "Sugerezi ca activitatea sƒÉ aibƒÉ »ôi o componentƒÉ online",
              personalStateChange: 10,
              socialRelationsChange: 8,
              blocks: [CHOICE_IDS.JOB.STEP_3.CHOICE_3, CHOICE_IDS.JOB.STEP_3.CHOICE_5]
            }
          ],
        },
        {
          id: STEP_IDS.JOB.STEP_3,
          text: "Un coleg face remarci nepotrivite despre dizabilitatea ta, aparent √Æn glumƒÉ, √Æn fa»õa altor colegi.",
          situation: "Birou - Comentarii Nepotrivite",
          choices: [
            {
              id: CHOICE_IDS.JOB.STEP_3.CHOICE_1,
              text: "√éi explici direct de ce comentariile sunt nepotrivite",
              personalStateChange: 10,
              socialRelationsChange: 5,
              blocks: []
            },
            {
              id: CHOICE_IDS.JOB.STEP_3.CHOICE_2,
              text: "R√¢zi √ÆmpreunƒÉ, de»ôi te sim»õi rƒÉnit",
              personalStateChange: -10,
              socialRelationsChange: 5,
              blocks: []
            },
            {
              id: CHOICE_IDS.JOB.STEP_3.CHOICE_3,
              text: "Raportezi incidentul la HR",
              personalStateChange: 5,
              socialRelationsChange: -10,
              blocks: []
            },
            {
              id: CHOICE_IDS.JOB.STEP_3.CHOICE_4,
              text: "RƒÉm√¢i tƒÉcut dar √Æ»õi exprimi dezaprobarea prin limbajul corpului",
              personalStateChange: -5,
              socialRelationsChange: 0,
              blocks: []
            },
            {
              id: CHOICE_IDS.JOB.STEP_3.CHOICE_5,
              text: "√él confrun»õi public √Æn fa»õa tuturor colegilor",
              personalStateChange: 15,
              socialRelationsChange: -5,
              blocks: []
            }
          ],
        },
      ],
      introspection: {
        text: "DupƒÉ c√¢teva luni la serviciu, reflectezi asupra experien»õei tale profesionale »ôi a rela»õiilor cu colegii.",
        positiveChoice: "Sunt m√¢ndru de contribu»õiile mele »ôi de progresul fƒÉcut √Æn carierƒÉ",
        negativeChoice: "Simt cƒÉ mereu voi fi tratat diferit, indiferent de performan»õele mele",
      },
    },

    {
      title: "Locuin»õa",
      steps: [
        {
          id: STEP_IDS.HOUSING.STEP_1,
          text: "Cau»õi un apartament sƒÉ √Ænchiriezi. Proprietarul pare reticent c√¢nd vede scaunul cu rotile.",
          situation: "CƒÉutarea Apartamentului",
          choices: [
            {
              id: CHOICE_IDS.HOUSING.STEP_1.CHOICE_1,
              text: "√éi explici drepturile tale »ôi √Æl asiguri cƒÉ vei avea grijƒÉ",
              personalStateChange: 10,
              socialRelationsChange: 5,
              blocks: [CHOICE_IDS.HOUSING.STEP_2.CHOICE_3, CHOICE_IDS.HOUSING.STEP_2.CHOICE_5]
            },
            {
              id: CHOICE_IDS.HOUSING.STEP_1.CHOICE_2,
              text: "Oferi sƒÉ plƒÉte»ôti o garan»õie suplimentarƒÉ",
              personalStateChange: -5,
              socialRelationsChange: 10,
              blocks: [CHOICE_IDS.HOUSING.STEP_2.CHOICE_1, CHOICE_IDS.HOUSING.STEP_2.CHOICE_4]
            },
            {
              id: CHOICE_IDS.HOUSING.STEP_1.CHOICE_3,
              text: "Pleci √Æn tƒÉcere »ôi continui cƒÉutarea",
              personalStateChange: -10,
              socialRelationsChange: -5,
              blocks: [CHOICE_IDS.HOUSING.STEP_2.CHOICE_2, CHOICE_IDS.HOUSING.STEP_2.CHOICE_1]
            }
          ],
        },
        {
          id: STEP_IDS.HOUSING.STEP_2,
          text: "Vecinii organizeazƒÉ o √Ænt√¢lnire √Æn curtea comunƒÉ pentru a discuta probleme ale blocului. Locul de √Ænt√¢lnire nu este accesibil.",
          situation: "√ént√¢lnirea Vecinilor",
          choices: [
            {
              id: CHOICE_IDS.HOUSING.STEP_2.CHOICE_1,
              text: "Sugerezi sƒÉ muta»õi √Ænt√¢lnirea √Æntr-un loc accesibil",
              personalStateChange: 15,
              socialRelationsChange: 10,
              blocks: [CHOICE_IDS.HOUSING.STEP_3.CHOICE_3, CHOICE_IDS.HOUSING.STEP_3.CHOICE_2]
            },
            {
              id: CHOICE_IDS.HOUSING.STEP_2.CHOICE_2,
              text: "Ceri sƒÉ te »õinƒÉ la curent cu ce s-a discut√¢t",
              personalStateChange: 0,
              socialRelationsChange: 5,
              blocks: [CHOICE_IDS.HOUSING.STEP_3.CHOICE_1, CHOICE_IDS.HOUSING.STEP_3.CHOICE_4]
            },
            {
              id: CHOICE_IDS.HOUSING.STEP_2.CHOICE_3,
              text: "Nu te implici deloc √Æn problemele comunitƒÉ»õii",
              personalStateChange: -10,
              socialRelationsChange: -15,
              blocks: [CHOICE_IDS.HOUSING.STEP_3.CHOICE_1, CHOICE_IDS.HOUSING.STEP_3.CHOICE_5]
            },
            {
              id: CHOICE_IDS.HOUSING.STEP_2.CHOICE_4,
              text: "Propui sƒÉ organizezi tu √Ænt√¢lnirea √Æntr-un loc accesibil",
              personalStateChange: 12,
              socialRelationsChange: 15,
              blocks: [CHOICE_IDS.HOUSING.STEP_3.CHOICE_3, CHOICE_IDS.HOUSING.STEP_3.CHOICE_2]
            },
            {
              id: CHOICE_IDS.HOUSING.STEP_2.CHOICE_5,
              text: "Te pl√¢ngi administra»õiei despre lipsa de accesibilitate",
              personalStateChange: 8,
              socialRelationsChange: -5,
              blocks: [CHOICE_IDS.HOUSING.STEP_3.CHOICE_2, CHOICE_IDS.HOUSING.STEP_3.CHOICE_5]
            }
          ],
        },
        {
          id: STEP_IDS.HOUSING.STEP_3,
          text: "O persoanƒÉ dragƒÉ √Æ»õi propune sƒÉ merge»õi √Æntr-o cƒÉlƒÉtorie √ÆmpreunƒÉ, dar √Æ»õi exprimƒÉ √Ængrijorarea legatƒÉ de planificarea necesarƒÉ pentru nevoile tale.",
          situation: "Planuri de CƒÉlƒÉtorie",
          choices: [
            {
              id: CHOICE_IDS.HOUSING.STEP_3.CHOICE_1,
              text: "Propui sƒÉ planifica»õi √ÆmpreunƒÉ cƒÉlƒÉtoria",
              personalStateChange: 15,
              socialRelationsChange: 15,
              blocks: []
            },
            {
              id: CHOICE_IDS.HOUSING.STEP_3.CHOICE_2,
              text: "√é»õi asumi toatƒÉ responsabilitatea planificƒÉrii",
              personalStateChange: -5,
              socialRelationsChange: 5,
              blocks: []
            },
            {
              id: CHOICE_IDS.HOUSING.STEP_3.CHOICE_3,
              text: "Refuzi cƒÉlƒÉtoria pentru a nu crea probleme",
              personalStateChange: -15,
              socialRelationsChange: -10,
              blocks: []
            },
            {
              id: CHOICE_IDS.HOUSING.STEP_3.CHOICE_4,
              text: "Cercetezi op»õiuni accesibile »ôi prezin»õi alternative",
              personalStateChange: 10,
              socialRelationsChange: 12,
              blocks: []
            },
            {
              id: CHOICE_IDS.HOUSING.STEP_3.CHOICE_5,
              text: "Sugerezi o cƒÉlƒÉtorie mai scurtƒÉ »ôi mai accesibilƒÉ",
              personalStateChange: 5,
              socialRelationsChange: 8,
              blocks: []
            }
          ],
        },
      ],
      introspection: {
        text: "Privind √Ænapoi la experien»õele tale de via»õƒÉ independentƒÉ, √Æ»õi evaluezi parcursul »ôi rela»õiile construite.",
        positiveChoice: "Am demonstrat cƒÉ pot trƒÉi independent »ôi am construit rela»õii valoroase",
        negativeChoice: "Via»õa mea va fi mereu o luptƒÉ, iar eu voi fi mereu o povarƒÉ pentru al»õii",
      },
    },
  ],

  endings: {
    positive: {
      title: "Integrare »ôi Succes",
      text: "Ai reu»ôit sƒÉ navighezi cu succes provocƒÉrile vie»õii, construind rela»õii puternice »ôi men»õin√¢ndu-»õi o stare emo»õionalƒÉ pozitivƒÉ. Experien»õele tale au devenit o sursƒÉ de inspira»õie pentru al»õii, iar tu ai devenit un avocat pentru incluziune »ôi accesibilitate. Via»õa ta demonstreazƒÉ cƒÉ dizabilitatea nu definee»ôte limitele unei persoane.",
    },
    neutral: {
      title: "Echilibru »ôi Acceptare",
      text: "Ai gƒÉsit un echilibru √Æn via»õƒÉ, cu momente bune »ôi rele. De»ôi √ÆncƒÉ mai √Ænt√¢mpini provocƒÉri, ai dezvoltat strategii de adaptare »ôi ai construit o re»õea de sprijin solidƒÉ. Continui sƒÉ cre»ôti »ôi sƒÉ √Ænve»õi, accept√¢nd cƒÉ via»õa are ups »ôi downs pentru toatƒÉ lumea.",
    },
    negative: {
      title: "Reflec»õie »ôi Speran»õƒÉ",
      text: "CƒÉlƒÉtoria ta a fost dificilƒÉ »ôi ai trecut prin momente √Æntunecate. Important este sƒÉ √Æ»õi aminte»ôti cƒÉ nu e»ôti singur »ôi cƒÉ existƒÉ √Æntotdeauna ajutor disponibil. Fiecare zi nouƒÉ oferƒÉ o »ôansƒÉ de schimbare »ôi √ÆmbunƒÉtƒÉ»õire. Te rugƒÉm sƒÉ contactezi o linie de ajutor dacƒÉ ai nevoie de sprijin: 116 123 (Telefonul de Suflet).",
    },
  },
};

// Create the story graph from your existing game data
export const storyGraph: StoryGraph = (() => {
  const nodes = new Map<string, StoryNode>();
  const edges = new Map<string, ChoiceEdge>();

  // Build nodes from scenes and steps
  gameData.scenes.forEach((scene, sceneIndex) => {
    scene.steps.forEach((step, stepIndex) => {
      const node: StoryNode = {
        id: step.id,
        text: step.text,
        situation: step.situation,
        sceneId: `scene_${sceneIndex}`,
        stepIndex: stepIndex,
        allChoices: step.choices
      };
      nodes.set(step.id, node);

      // Create edges for each choice
      step.choices.forEach(choice => {
        const nextStepIndex = stepIndex + 1;
        const nextSceneIndex = nextStepIndex >= scene.steps.length ? sceneIndex + 1 : sceneIndex;
        const nextStep = nextStepIndex < scene.steps.length
          ? scene.steps[nextStepIndex]
          : (gameData.scenes[nextSceneIndex]?.steps[0]);

        const toNode = nextStep ? nextStep.id : 'end';

        const edge: ChoiceEdge = {
          id: choice.id,
          fromNode: step.id,
          toNode: toNode,
          choice: choice,
          blocks: choice.blocks || []
        };
        edges.set(choice.id, edge);
      });
    });
  });

  return { nodes, edges };
})();